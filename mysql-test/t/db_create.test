#
# Check CREATE OR REPLACE DATABASE
#

--disable_warnings
DROP DATABASE IF EXISTS db1;
DROP DATABASE IF EXISTS db2;
DROP DATABASE IF EXISTS db3;
--enable_warnings

#
# Create DB
#

CREATE DATABASE db1;
CREATE DATABASE db2;
SHOW DATABASES;

#
# Use DB
#

USE db1;
CREATE TABLE t1 (a int);
INSERT INTO t1 VALUES(1),(2),(3);
SHOW TABLES;

#
# IF NOT EXISTS
#

--disable_warnings
CREATE DATABASE IF NOT EXISTS db3;
CREATE DATABASE IF NOT EXISTS db1;
--enable_warnings

#
# CREATE OR REPLACE
#

CREATE OR REPLACE DATABASE db1;
CREATE OR REPLACE DATABASE db2;
USE db1;
CREATE TABLE t1 (a int);
INSERT INTO t1 VALUES(1),(2),(3);
SHOW TABLES;

#
# Errors
#

--error 1007    #ER_CREATE_DB_EXISTS
CREATE DATABASE db3;
--error ER_WRONG_USAGE
CREATE OR REPLACE DATABASE IF NOT EXISTS db2;

#
# DROP all databases
#

--disable_warnings
DROP DATABASE IF EXISTS db1;
DROP DATABASE IF EXISTS db2;
DROP DATABASE IF EXISTS db3;
DROP DATABASE IF EXISTS db3;
--enable_warnings
